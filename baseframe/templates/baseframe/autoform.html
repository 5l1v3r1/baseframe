{% extends "layout.html" %}
{% from "baseframe/forms.html" import renderform, ajaxform %}

{% block content %}
  {{ renderform(form, formid, submit, message, cancel_url) }}
{% endblock %}

{% block footerscripts %}
  <script type="text/javascript">
    $(function() {
    $('textarea.richtext').tinymce({
      // Location of TinyMCE script
      script_url : '{{ url_for("baseframe.static", filename="js/tiny_mce/tiny_mce.js") }}',

      // General options
      theme : "advanced",
      plugins : "",

      // Theme options
      theme_advanced_buttons1 : "bold,italic,|,bullist,numlist,|,outdent,indent,|,link,unlink",
      theme_advanced_buttons2 : "",
      theme_advanced_buttons3 : "",
      theme_advanced_toolbar_location : "top",
      theme_advanced_toolbar_align : "left",
      theme_advanced_statusbar_location : "bottom",
      theme_advanced_resizing : true,
      theme_advanced_path : false,

      valid_elements : "p,br,strong/b,em/i,ul,ol,li,a[!href|title|target]",
      width: "600",
      height: "300",
      // Content CSS
      content_css : "{{ url_for('baseframe.static', filename='css/editor.css') }}"      
    });
  });

  </script>
  {{ ajaxform(formid, request, ajax) }}
{% endblock %}
